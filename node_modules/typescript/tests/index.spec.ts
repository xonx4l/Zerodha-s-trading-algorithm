import { app, TICKER } from "../";
import request from "supertest";

describe("Basic tests", () => {

    it("verify initial balance", async () => {
     let res = await request(app).get("/balance/1").send();
     expect(res.body.balances[Ticker]).toBe(10);
     res = await request(app).get("/balance/2").send();
     expect(res.body.balances[Ticker]).toBe(10);
    })

    it("Can create tests", async () => {
        await request(app).post("/order").send({
            type:"limit",
            side:"bid",
            price:1400.1,
            quantity:1,
            userId: "1",
        });

        await request(app).post("/order").send({
            type: "limit",
            side: "ask",
            price: 1400.9,
            quantity: 10,
            userId: "2"
          });
      
          await request(app).post("/order").send({
            type: "limit",
            side: "ask",
            price: 1501,
            quantity: 5,
            userId: "2"
          })
    });


})